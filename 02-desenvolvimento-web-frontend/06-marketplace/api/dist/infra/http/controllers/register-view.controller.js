'use strict';const a94_0x343e27=a94_0x544e;(function(_0x1dc9c7,_0x2e12e4){const _0x49948a=a94_0x544e,_0x573ac5=_0x1dc9c7();while(!![]){try{const _0x4a9eb1=parseInt(_0x49948a(0x12b))/0x1+-parseInt(_0x49948a(0x11e))/0x2+parseInt(_0x49948a(0x137))/0x3*(-parseInt(_0x49948a(0x122))/0x4)+parseInt(_0x49948a(0x12a))/0x5*(-parseInt(_0x49948a(0x13c))/0x6)+-parseInt(_0x49948a(0x10f))/0x7+-parseInt(_0x49948a(0x112))/0x8+parseInt(_0x49948a(0x12c))/0x9;if(_0x4a9eb1===_0x2e12e4)break;else _0x573ac5['push'](_0x573ac5['shift']());}catch(_0xfea0fe){_0x573ac5['push'](_0x573ac5['shift']());}}}(a94_0x4b95,0x4d993));var __decorate=this&&this[a94_0x343e27(0x121)]||function(_0x3be14c,_0x1f8635,_0x54ed9a,_0x2aa081){const _0xf35a57=a94_0x343e27;var _0xc34f8=arguments['length'],_0x4023b3=_0xc34f8<0x3?_0x1f8635:_0x2aa081===null?_0x2aa081=Object[_0xf35a57(0x129)](_0x1f8635,_0x54ed9a):_0x2aa081,_0x3c53f2;if(typeof Reflect==='object'&&typeof Reflect[_0xf35a57(0x11a)]===_0xf35a57(0x10a))_0x4023b3=Reflect[_0xf35a57(0x11a)](_0x3be14c,_0x1f8635,_0x54ed9a,_0x2aa081);else{for(var _0x3d290b=_0x3be14c[_0xf35a57(0x135)]-0x1;_0x3d290b>=0x0;_0x3d290b--)if(_0x3c53f2=_0x3be14c[_0x3d290b])_0x4023b3=(_0xc34f8<0x3?_0x3c53f2(_0x4023b3):_0xc34f8>0x3?_0x3c53f2(_0x1f8635,_0x54ed9a,_0x4023b3):_0x3c53f2(_0x1f8635,_0x54ed9a))||_0x4023b3;}return _0xc34f8>0x3&&_0x4023b3&&Object[_0xf35a57(0x10b)](_0x1f8635,_0x54ed9a,_0x4023b3),_0x4023b3;},__metadata=this&&this[a94_0x343e27(0x114)]||function(_0x3b0958,_0x6f2b42){const _0xabcfcb=a94_0x343e27;if(typeof Reflect===_0xabcfcb(0x11d)&&typeof Reflect[_0xabcfcb(0x13a)]===_0xabcfcb(0x10a))return Reflect[_0xabcfcb(0x13a)](_0x3b0958,_0x6f2b42);},__param=this&&this[a94_0x343e27(0x107)]||function(_0x2af7b8,_0x17e823){return function(_0x395bce,_0x1a3cef){_0x17e823(_0x395bce,_0x1a3cef,_0x2af7b8);};};Object['defineProperty'](exports,a94_0x343e27(0x125),{'value':!![]}),exports[a94_0x343e27(0x140)]=void 0x0;const common_1=require(a94_0x343e27(0x131)),swagger_1=require(a94_0x343e27(0x110)),nestjs_zod_1=require(a94_0x343e27(0x136)),z_1=require(a94_0x343e27(0x12e)),register_view_use_case_1=require('../../../domain/marketplace/application/use-cases/register-view.use-case'),env_service_1=require(a94_0x343e27(0x118)),current_user_decorator_1=require(a94_0x343e27(0x119)),product_presenter_1=require(a94_0x343e27(0x12d)),user_presenter_1=require(a94_0x343e27(0x124));class RegisterViewResponse extends(0x0,nestjs_zod_1[a94_0x343e27(0x109)])(z_1['z']['object']({'product':product_presenter_1['ProductPresenter'][a94_0x343e27(0x133)],'viewer':user_presenter_1[a94_0x343e27(0x115)][a94_0x343e27(0x133)]})){}let RegisterViewController=class RegisterViewController{constructor(_0x2af360,_0x30896d){const _0x4eda06=a94_0x343e27;this[_0x4eda06(0x113)]=_0x2af360,this[_0x4eda06(0x138)]=_0x30896d;}async[a94_0x343e27(0x10d)](_0x1eedea,_0x16d09d){const _0x26942b=a94_0x343e27,_0x3cf9c6=await this[_0x26942b(0x113)]['execute']({'productId':_0x16d09d,'viewerId':_0x1eedea[_0x26942b(0x123)]});if(_0x3cf9c6[_0x26942b(0x12f)]())throw _0x3cf9c6[_0x26942b(0x127)];return{'product':product_presenter_1[_0x26942b(0x13b)][_0x26942b(0x116)](this[_0x26942b(0x138)],_0x3cf9c6[_0x26942b(0x127)][_0x26942b(0x111)][_0x26942b(0x13e)]),'viewer':user_presenter_1[_0x26942b(0x115)]['toHTTP'](this[_0x26942b(0x138)],_0x3cf9c6['value'][_0x26942b(0x111)]['viewer'])};}};function a94_0x544e(_0x453c00,_0x3cc7dc){const _0x4b95b3=a94_0x4b95();return a94_0x544e=function(_0x544eff,_0x507458){_0x544eff=_0x544eff-0x107;let _0x2100d6=_0x4b95b3[_0x544eff];return _0x2100d6;},a94_0x544e(_0x453c00,_0x3cc7dc);}exports['RegisterViewController']=RegisterViewController,__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a94_0x343e27(0x10e)])(0xc9),(0x0,swagger_1[a94_0x343e27(0x108)])({'description':a94_0x343e27(0x11f),'type':RegisterViewResponse}),(0x0,swagger_1[a94_0x343e27(0x11b)])({'description':a94_0x343e27(0x142)}),(0x0,swagger_1['ApiForbiddenResponse'])({'description':'The\x20viewer\x20is\x20the\x20owner\x20of\x20the\x20product.'}),(0x0,swagger_1[a94_0x343e27(0x120)])({'summary':'Register\x20a\x20view\x20on\x20a\x20product'}),__param(0x0,(0x0,current_user_decorator_1[a94_0x343e27(0x134)])()),__param(0x1,(0x0,common_1['Param'])('id')),__metadata(a94_0x343e27(0x126),Function),__metadata(a94_0x343e27(0x132),[Object,String]),__metadata(a94_0x343e27(0x13f),Promise)],RegisterViewController[a94_0x343e27(0x13d)],a94_0x343e27(0x10d),null),exports[a94_0x343e27(0x140)]=RegisterViewController=__decorate([(0x0,swagger_1[a94_0x343e27(0x139)])(a94_0x343e27(0x117)),(0x0,swagger_1[a94_0x343e27(0x10c)])({'name':'id','type':'string','description':a94_0x343e27(0x128)}),(0x0,common_1[a94_0x343e27(0x11c)])(a94_0x343e27(0x130)),__metadata('design:paramtypes',[register_view_use_case_1[a94_0x343e27(0x141)],env_service_1['EnvService']])],RegisterViewController);function a94_0x4b95(){const _0x42b8b8=['toHTTP','Viewers','../../env/env.service','../auth/current-user-decorator','decorate','ApiNotFoundResponse','Controller','object','1212074exDgRu','The\x20view\x20was\x20successfully\x20registered.','ApiOperation','__decorate','408948JvtTYf','sub','../presenters/user.presenter','__esModule','design:type','value','The\x20product\x20id\x20(uuid)','getOwnPropertyDescriptor','13905TolPiP','274895DwPYPw','12895542WEjeCG','../presenters/product.presenter','nestjs-zod/z','isLeft','/products/:id/views','@nestjs/common','design:paramtypes','zod','CurrentUser','length','nestjs-zod','3GPXhAs','env','ApiTags','metadata','ProductPresenter','234yNeMQH','prototype','product','design:returntype','RegisterViewController','RegisterViewUseCase','The\x20product\x20or\x20viewer\x20was\x20not\x20found.','__param','ApiCreatedResponse','createZodDto','function','defineProperty','ApiParam','handle','HttpCode','3666299YAyHhg','@nestjs/swagger','view','395200qiPZkx','registerView','__metadata','UserPresenter'];a94_0x4b95=function(){return _0x42b8b8;};return a94_0x4b95();}