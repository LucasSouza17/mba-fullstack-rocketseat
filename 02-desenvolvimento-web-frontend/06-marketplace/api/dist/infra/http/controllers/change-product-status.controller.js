'use strict';const a81_0x4461c4=a81_0x41f6;(function(_0x9cf7a,_0x2655a8){const _0x1e4076=a81_0x41f6,_0xab1267=_0x9cf7a();while(!![]){try{const _0x2590ce=parseInt(_0x1e4076(0xb7))/0x1*(parseInt(_0x1e4076(0xc7))/0x2)+parseInt(_0x1e4076(0xf1))/0x3*(-parseInt(_0x1e4076(0xc1))/0x4)+parseInt(_0x1e4076(0xed))/0x5+parseInt(_0x1e4076(0xc3))/0x6+-parseInt(_0x1e4076(0xb9))/0x7*(parseInt(_0x1e4076(0xcb))/0x8)+-parseInt(_0x1e4076(0xd3))/0x9*(-parseInt(_0x1e4076(0xd2))/0xa)+-parseInt(_0x1e4076(0xe4))/0xb*(parseInt(_0x1e4076(0xe1))/0xc);if(_0x2590ce===_0x2655a8)break;else _0xab1267['push'](_0xab1267['shift']());}catch(_0x199937){_0xab1267['push'](_0xab1267['shift']());}}}(a81_0x56e5,0x76faa));var __decorate=this&&this[a81_0x4461c4(0xde)]||function(_0x1cefeb,_0x5a37e5,_0x5ed75a,_0x1b59ab){const _0x184af6=a81_0x4461c4;var _0x17b5c0=arguments[_0x184af6(0xe2)],_0x43894c=_0x17b5c0<0x3?_0x5a37e5:_0x1b59ab===null?_0x1b59ab=Object[_0x184af6(0xd9)](_0x5a37e5,_0x5ed75a):_0x1b59ab,_0x39f3bc;if(typeof Reflect===_0x184af6(0xdd)&&typeof Reflect[_0x184af6(0xf3)]===_0x184af6(0xf2))_0x43894c=Reflect[_0x184af6(0xf3)](_0x1cefeb,_0x5a37e5,_0x5ed75a,_0x1b59ab);else{for(var _0x165165=_0x1cefeb[_0x184af6(0xe2)]-0x1;_0x165165>=0x0;_0x165165--)if(_0x39f3bc=_0x1cefeb[_0x165165])_0x43894c=(_0x17b5c0<0x3?_0x39f3bc(_0x43894c):_0x17b5c0>0x3?_0x39f3bc(_0x5a37e5,_0x5ed75a,_0x43894c):_0x39f3bc(_0x5a37e5,_0x5ed75a))||_0x43894c;}return _0x17b5c0>0x3&&_0x43894c&&Object[_0x184af6(0xb8)](_0x5a37e5,_0x5ed75a,_0x43894c),_0x43894c;},__metadata=this&&this[a81_0x4461c4(0xc6)]||function(_0xc6b193,_0x51e806){const _0x477851=a81_0x4461c4;if(typeof Reflect===_0x477851(0xdd)&&typeof Reflect[_0x477851(0xb4)]===_0x477851(0xf2))return Reflect[_0x477851(0xb4)](_0xc6b193,_0x51e806);},__param=this&&this['__param']||function(_0xe73804,_0x587814){return function(_0x3029bc,_0x27c4c5){_0x587814(_0x3029bc,_0x27c4c5,_0xe73804);};};Object[a81_0x4461c4(0xb8)](exports,a81_0x4461c4(0xcf),{'value':!![]}),exports[a81_0x4461c4(0xbd)]=void 0x0;function a81_0x56e5(){const _0x59beaa=['The\x20product\x20was\x20not\x20found.','MarkSellAsCancelledUseCase','sold','string','ApiOperation','metadata','design:paramtypes','Param','115FVwoQG','defineProperty','106498CEiFYj','ApiNotFoundResponse','handle','../../env/env.service','ChangeProductStatusController','ApiTags','toHTTP','ACTION','278192roOoOR','zod','151548FPLCIU','products/:id/:status','available','__metadata','7558nrjNLt','The\x20product\x20id\x20(uuid)','createZodDto','markSellAsAvailable','368shguCT','cancelled','../../../domain/marketplace/application/use-cases/mark-sell-as-sold.use-case','ApiParam','__esModule','MarkSellAsAvailableUseCase','../auth/current-user-decorator','10lFanSH','4448835jBqjGs','nestjs-zod','isLeft','../presenters/product.presenter','design:returntype','ApiOkResponse','getOwnPropertyDescriptor','The\x20product\x20status\x20was\x20successfully\x20changed.','ProductPresenter','product','object','__decorate','sub','markSellAsSold','612KfAUGf','length','prototype','13453QXhYIi','execute','Products','envService','../../../domain/marketplace/application/use-cases/mark-sell-as-cancelled.use-case','CurrentUser','uuid','ApiForbiddenResponse','markSellAsCancelled','4606645BwNQcM','The\x20product\x20does\x20not\x20belong\x20to\x20the\x20seller\x20or\x20the\x20product\x20is\x20with\x20the\x20same\x20status.','EnvService','value','27VIodFN','function','decorate'];a81_0x56e5=function(){return _0x59beaa;};return a81_0x56e5();}const common_1=require('@nestjs/common'),swagger_1=require('@nestjs/swagger'),nestjs_zod_1=require(a81_0x4461c4(0xd4)),z_1=require('nestjs-zod/z'),mark_sell_as_available_use_case_1=require('../../../domain/marketplace/application/use-cases/mark-sell-as-available.use-case'),mark_sell_as_cancelled_use_case_1=require(a81_0x4461c4(0xe8)),mark_sell_as_sold_use_case_1=require(a81_0x4461c4(0xcd)),env_service_1=require(a81_0x4461c4(0xbc)),current_user_decorator_1=require(a81_0x4461c4(0xd1)),product_presenter_1=require(a81_0x4461c4(0xd6));class ChangeProductStatusParams extends(0x0,nestjs_zod_1['createZodDto'])(z_1['z']['object']({'id':z_1['z'][a81_0x4461c4(0xf7)]()[a81_0x4461c4(0xea)](),'status':z_1['z']['enum']([a81_0x4461c4(0xc5),'cancelled',a81_0x4461c4(0xf6)])})){}class ChangeProductStatusResponse extends(0x0,nestjs_zod_1[a81_0x4461c4(0xc9)])(z_1['z']['object']({'product':product_presenter_1[a81_0x4461c4(0xdb)][a81_0x4461c4(0xc2)]})){}let ChangeProductStatusController=class ChangeProductStatusController{constructor(_0x2f13a0,_0x13a62e,_0x176540,_0x5251e9){const _0x360f29=a81_0x4461c4;this['markSellAsAvailable']=_0x2f13a0,this[_0x360f29(0xec)]=_0x13a62e,this[_0x360f29(0xe0)]=_0x176540,this[_0x360f29(0xe7)]=_0x5251e9,this[_0x360f29(0xc0)]={'available':this[_0x360f29(0xca)],'cancelled':this['markSellAsCancelled'],'sold':this['markSellAsSold']};}async[a81_0x4461c4(0xbb)](_0x3a6658,_0x405780){const _0x1a5b33=a81_0x4461c4,_0x3d33e8=await this[_0x1a5b33(0xc0)][_0x3a6658['status']][_0x1a5b33(0xe5)]({'productId':_0x3a6658['id'],'ownerId':_0x405780[_0x1a5b33(0xdf)]});if(_0x3d33e8[_0x1a5b33(0xd5)]())throw _0x3d33e8['value'];return{'product':product_presenter_1['ProductPresenter'][_0x1a5b33(0xbf)](this[_0x1a5b33(0xe7)],_0x3d33e8[_0x1a5b33(0xf0)][_0x1a5b33(0xdc)])};}};function a81_0x41f6(_0x145e87,_0x56761c){const _0x56e5eb=a81_0x56e5();return a81_0x41f6=function(_0x41f6f3,_0x38c1db){_0x41f6f3=_0x41f6f3-0xb3;let _0x16a6c3=_0x56e5eb[_0x41f6f3];return _0x16a6c3;},a81_0x41f6(_0x145e87,_0x56761c);}exports[a81_0x4461c4(0xbd)]=ChangeProductStatusController,__decorate([(0x0,common_1['Patch'])(),(0x0,swagger_1[a81_0x4461c4(0xd8)])({'description':a81_0x4461c4(0xda),'type':ChangeProductStatusResponse}),(0x0,swagger_1[a81_0x4461c4(0xba)])({'description':a81_0x4461c4(0xf4)}),(0x0,swagger_1[a81_0x4461c4(0xeb)])({'description':a81_0x4461c4(0xee)}),(0x0,swagger_1[a81_0x4461c4(0xb3)])({'summary':'Change\x20the\x20product\x20status'}),__param(0x0,(0x0,common_1[a81_0x4461c4(0xb6)])()),__param(0x1,(0x0,current_user_decorator_1[a81_0x4461c4(0xe9)])()),__metadata('design:type',Function),__metadata(a81_0x4461c4(0xb5),[ChangeProductStatusParams,Object]),__metadata(a81_0x4461c4(0xd7),Promise)],ChangeProductStatusController[a81_0x4461c4(0xe3)],a81_0x4461c4(0xbb),null),exports['ChangeProductStatusController']=ChangeProductStatusController=__decorate([(0x0,swagger_1[a81_0x4461c4(0xbe)])(a81_0x4461c4(0xe6)),(0x0,swagger_1[a81_0x4461c4(0xce)])({'name':'id','type':a81_0x4461c4(0xf7),'description':a81_0x4461c4(0xc8)}),(0x0,swagger_1[a81_0x4461c4(0xce)])({'name':'status','type':'string','enum':[a81_0x4461c4(0xc5),a81_0x4461c4(0xcc),a81_0x4461c4(0xf6)]}),(0x0,common_1['Controller'])(a81_0x4461c4(0xc4)),__metadata(a81_0x4461c4(0xb5),[mark_sell_as_available_use_case_1[a81_0x4461c4(0xd0)],mark_sell_as_cancelled_use_case_1[a81_0x4461c4(0xf5)],mark_sell_as_sold_use_case_1['MarkSellAsSoldUseCase'],env_service_1[a81_0x4461c4(0xef)]])],ChangeProductStatusController);