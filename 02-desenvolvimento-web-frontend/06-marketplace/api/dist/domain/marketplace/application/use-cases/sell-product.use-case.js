'use strict';const a42_0x2d07b6=a42_0x34be;(function(_0x217b20,_0x47b511){const _0x5f4172=a42_0x34be,_0x454961=_0x217b20();while(!![]){try{const _0xb10873=-parseInt(_0x5f4172(0x129))/0x1+-parseInt(_0x5f4172(0x11a))/0x2*(-parseInt(_0x5f4172(0x115))/0x3)+-parseInt(_0x5f4172(0x11d))/0x4*(-parseInt(_0x5f4172(0x104))/0x5)+-parseInt(_0x5f4172(0x118))/0x6+parseInt(_0x5f4172(0x109))/0x7+-parseInt(_0x5f4172(0x113))/0x8+parseInt(_0x5f4172(0xff))/0x9*(-parseInt(_0x5f4172(0xfe))/0xa);if(_0xb10873===_0x47b511)break;else _0x454961['push'](_0x454961['shift']());}catch(_0x52c221){_0x454961['push'](_0x454961['shift']());}}}(a42_0x3393,0x617f3));var __decorate=this&&this[a42_0x2d07b6(0x108)]||function(_0x25a503,_0x279412,_0x2fde17,_0x2fdc76){const _0x1ccea8=a42_0x2d07b6;var _0x5e858f=arguments[_0x1ccea8(0x111)],_0x5e2fb3=_0x5e858f<0x3?_0x279412:_0x2fdc76===null?_0x2fdc76=Object[_0x1ccea8(0x10a)](_0x279412,_0x2fde17):_0x2fdc76,_0x4f8c26;if(typeof Reflect==='object'&&typeof Reflect[_0x1ccea8(0x12b)]==='function')_0x5e2fb3=Reflect[_0x1ccea8(0x12b)](_0x25a503,_0x279412,_0x2fde17,_0x2fdc76);else{for(var _0x223e18=_0x25a503[_0x1ccea8(0x111)]-0x1;_0x223e18>=0x0;_0x223e18--)if(_0x4f8c26=_0x25a503[_0x223e18])_0x5e2fb3=(_0x5e858f<0x3?_0x4f8c26(_0x5e2fb3):_0x5e858f>0x3?_0x4f8c26(_0x279412,_0x2fde17,_0x5e2fb3):_0x4f8c26(_0x279412,_0x2fde17))||_0x5e2fb3;}return _0x5e858f>0x3&&_0x5e2fb3&&Object[_0x1ccea8(0xfa)](_0x279412,_0x2fde17,_0x5e2fb3),_0x5e2fb3;},__metadata=this&&this[a42_0x2d07b6(0x102)]||function(_0x422fe3,_0x4899be){const _0x3517e1=a42_0x2d07b6;if(typeof Reflect===_0x3517e1(0x12a)&&typeof Reflect[_0x3517e1(0x127)]===_0x3517e1(0x117))return Reflect[_0x3517e1(0x127)](_0x422fe3,_0x4899be);};function a42_0x34be(_0x1ee28d,_0x68e63d){const _0x3393ae=a42_0x3393();return a42_0x34be=function(_0x34befa,_0x5bf58c){_0x34befa=_0x34befa-0xf7;let _0x3d5341=_0x3393ae[_0x34befa];return _0x3d5341;},a42_0x34be(_0x1ee28d,_0x68e63d);}function a42_0x3393(){const _0x198178=['inexistentIds','../repositories/sellers.repository','attachmentsRepository','length','__esModule','975920avgDTi','./errors/resource-not-found.error','764868tdFwow','priceInCents','function','3418362QjtGfU','description','4oawByD','../repositories/categories.repository','../../enterprise/entities/product','2326308wpgtYD','left','productsRepository','categoryRepository','../repositories/products.repository','CategoriesRepository','AttachmentsRepository','join','attachmentsIds','findById','metadata','Category','255343HVGSnI','object','decorate','sellersRepository','right','design:paramtypes','Product','defineProperty','@nestjs/common','ownerId','IDs','292870MQxKqo','135IYSynS','ResourceNotFoundError','Seller','__metadata','categoryId','5oQgQDL','SellProductUseCase','ProductsRepository','Attachment','__decorate','4859561tWFpQy','getOwnPropertyDescriptor','create','data','findManyByIds'];a42_0x3393=function(){return _0x198178;};return a42_0x3393();}Object[a42_0x2d07b6(0xfa)](exports,a42_0x2d07b6(0x112),{'value':!![]}),exports['SellProductUseCase']=void 0x0;const common_1=require(a42_0x2d07b6(0xfb)),either_1=require('../../../../core/logic/either'),attachments_repository_1=require('../repositories/attachments.repository'),categories_repository_1=require(a42_0x2d07b6(0x11b)),products_repository_1=require(a42_0x2d07b6(0x121)),sellers_repository_1=require(a42_0x2d07b6(0x10f)),resource_not_found_error_1=require(a42_0x2d07b6(0x114)),product_1=require(a42_0x2d07b6(0x11c));let SellProductUseCase=class SellProductUseCase{constructor(_0xa692f1,_0x5e9053,_0x1a2202,_0x31a5a3){const _0x2fd290=a42_0x2d07b6;this[_0x2fd290(0x12c)]=_0xa692f1,this[_0x2fd290(0x120)]=_0x5e9053,this[_0x2fd290(0x11f)]=_0x1a2202,this[_0x2fd290(0x110)]=_0x31a5a3;}async['execute'](_0x4a2e06){const _0x184d80=a42_0x2d07b6,_0x589169=await this[_0x184d80(0x12c)][_0x184d80(0x126)](_0x4a2e06[_0x184d80(0xfc)]);if(!_0x589169)return(0x0,either_1[_0x184d80(0x11e)])(new resource_not_found_error_1['ResourceNotFoundError'](_0x184d80(0x101),'ID',_0x4a2e06[_0x184d80(0xfc)]));const _0x5f5ad2=await this['categoryRepository']['findById'](_0x4a2e06[_0x184d80(0x103)]);if(!_0x5f5ad2)return(0x0,either_1['left'])(new resource_not_found_error_1[(_0x184d80(0x100))](_0x184d80(0x128),'ID',_0x4a2e06['categoryId']));const _0x5f3256=await this[_0x184d80(0x110)][_0x184d80(0x10d)](_0x4a2e06[_0x184d80(0x125)]);if(_0x5f3256['inexistentIds'][_0x184d80(0x111)])return(0x0,either_1[_0x184d80(0x11e)])(new resource_not_found_error_1[(_0x184d80(0x100))](_0x184d80(0x107),_0x184d80(0xfd),_0x5f3256[_0x184d80(0x10e)][_0x184d80(0x124)](',\x20')));const _0x1edee5=product_1[_0x184d80(0xf9)][_0x184d80(0x10b)]({'owner':_0x589169,'title':_0x4a2e06['title'],'description':_0x4a2e06[_0x184d80(0x119)],'priceInCents':_0x4a2e06[_0x184d80(0x116)],'attachments':_0x5f3256[_0x184d80(0x10c)],'category':_0x5f5ad2});return await this[_0x184d80(0x11f)][_0x184d80(0x10b)](_0x1edee5),(0x0,either_1[_0x184d80(0xf7)])({'product':_0x1edee5});}};exports[a42_0x2d07b6(0x105)]=SellProductUseCase,exports[a42_0x2d07b6(0x105)]=SellProductUseCase=__decorate([(0x0,common_1['Injectable'])(),__metadata(a42_0x2d07b6(0xf8),[sellers_repository_1['SellersRepository'],categories_repository_1[a42_0x2d07b6(0x122)],products_repository_1[a42_0x2d07b6(0x106)],attachments_repository_1[a42_0x2d07b6(0x123)]])],SellProductUseCase);