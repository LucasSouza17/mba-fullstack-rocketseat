'use strict';const a37_0x21b57f=a37_0x20a0;(function(_0x4feb52,_0x366d10){const _0x2cb381=a37_0x20a0,_0x1c329a=_0x4feb52();while(!![]){try{const _0x55825e=-parseInt(_0x2cb381(0x1f6))/0x1*(-parseInt(_0x2cb381(0x1ce))/0x2)+parseInt(_0x2cb381(0x1cd))/0x3+parseInt(_0x2cb381(0x1d7))/0x4+-parseInt(_0x2cb381(0x1f7))/0x5+-parseInt(_0x2cb381(0x1d6))/0x6*(parseInt(_0x2cb381(0x1cf))/0x7)+-parseInt(_0x2cb381(0x1e0))/0x8+parseInt(_0x2cb381(0x1f4))/0x9;if(_0x55825e===_0x366d10)break;else _0x1c329a['push'](_0x1c329a['shift']());}catch(_0x14533a){_0x1c329a['push'](_0x1c329a['shift']());}}}(a37_0x6eb6,0x5dff2));var __decorate=this&&this[a37_0x21b57f(0x1df)]||function(_0xfbc5cc,_0x1a7941,_0x28eb2b,_0x561cb5){const _0xdd5404=a37_0x21b57f;var _0x289a27=arguments[_0xdd5404(0x1f2)],_0x512b6f=_0x289a27<0x3?_0x1a7941:_0x561cb5===null?_0x561cb5=Object[_0xdd5404(0x1d8)](_0x1a7941,_0x28eb2b):_0x561cb5,_0x965e43;if(typeof Reflect===_0xdd5404(0x1d2)&&typeof Reflect[_0xdd5404(0x1ed)]===_0xdd5404(0x1dc))_0x512b6f=Reflect[_0xdd5404(0x1ed)](_0xfbc5cc,_0x1a7941,_0x28eb2b,_0x561cb5);else{for(var _0x46419d=_0xfbc5cc[_0xdd5404(0x1f2)]-0x1;_0x46419d>=0x0;_0x46419d--)if(_0x965e43=_0xfbc5cc[_0x46419d])_0x512b6f=(_0x289a27<0x3?_0x965e43(_0x512b6f):_0x289a27>0x3?_0x965e43(_0x1a7941,_0x28eb2b,_0x512b6f):_0x965e43(_0x1a7941,_0x28eb2b))||_0x512b6f;}return _0x289a27>0x3&&_0x512b6f&&Object[_0xdd5404(0x1ef)](_0x1a7941,_0x28eb2b,_0x512b6f),_0x512b6f;},__metadata=this&&this['__metadata']||function(_0x17eb85,_0x44b687){const _0x53d472=a37_0x21b57f;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x53d472(0x1dc))return Reflect['metadata'](_0x17eb85,_0x44b687);};Object['defineProperty'](exports,a37_0x21b57f(0x1e7),{'value':!![]}),exports['MarkSellAsAvailableUseCase']=void 0x0;const common_1=require(a37_0x21b57f(0x1e9)),not_allowed_error_1=require(a37_0x21b57f(0x1d5)),either_1=require(a37_0x21b57f(0x1e3)),products_repository_1=require(a37_0x21b57f(0x1e4)),sellers_repository_1=require('../repositories/sellers.repository'),resource_not_found_error_1=require(a37_0x21b57f(0x1e6)),product_1=require('../../enterprise/entities/product');function a37_0x6eb6(){const _0x4629e9=['551763eYAOPm','2xhkMMP','2584106OrkLrV','AVAILABLE','left','object','Seller','productsRepository','../../../../core/errors/common/not-allowed.error','6NnBElN','1721996UvowWl','getOwnPropertyDescriptor','status','This\x20product\x20is\x20already\x20available.','NotAllowedError','function','Status','sellersRepository','__decorate','3404912JRWlpd','productId','MarkSellAsAvailableUseCase','../../../../core/logic/either','../repositories/products.repository','save','./errors/resource-not-found.error','__esModule','ResourceNotFoundError','@nestjs/common','Injectable','owner','ProductsRepository','decorate','Product','defineProperty','right','all','length','design:paramtypes','9376776ZPLOdC','execute','657LSPmaH','2385795zooxwQ','findById'];a37_0x6eb6=function(){return _0x4629e9;};return a37_0x6eb6();}function a37_0x20a0(_0x34099b,_0x4d64ff){const _0x6eb6ee=a37_0x6eb6();return a37_0x20a0=function(_0x20a06d,_0x3aade2){_0x20a06d=_0x20a06d-0x1cd;let _0x326db5=_0x6eb6ee[_0x20a06d];return _0x326db5;},a37_0x20a0(_0x34099b,_0x4d64ff);}let MarkSellAsAvailableUseCase=class MarkSellAsAvailableUseCase{constructor(_0x58f10c,_0x4e8a54){const _0x5356ef=a37_0x21b57f;this[_0x5356ef(0x1de)]=_0x58f10c,this[_0x5356ef(0x1d4)]=_0x4e8a54;}async[a37_0x21b57f(0x1f5)](_0x97735e){const _0x308b55=a37_0x21b57f,[_0x4b972b,_0x562ed3]=await Promise[_0x308b55(0x1f1)]([this[_0x308b55(0x1de)][_0x308b55(0x1f8)](_0x97735e['ownerId']),this[_0x308b55(0x1d4)][_0x308b55(0x1f8)](_0x97735e['productId'])]);if(!_0x4b972b)return(0x0,either_1[_0x308b55(0x1d1)])(new resource_not_found_error_1[(_0x308b55(0x1e8))](_0x308b55(0x1d3),'ID',_0x97735e['ownerId']));if(!_0x562ed3)return(0x0,either_1[_0x308b55(0x1d1)])(new resource_not_found_error_1[(_0x308b55(0x1e8))]('Product','ID',_0x97735e[_0x308b55(0x1e1)]));if(!_0x562ed3[_0x308b55(0x1eb)]['id']['equals'](_0x4b972b['id']))return(0x0,either_1['left'])(new not_allowed_error_1[(_0x308b55(0x1db))]('You\x20are\x20not\x20the\x20owner\x20of\x20this\x20product.'));if(_0x562ed3[_0x308b55(0x1d9)]===product_1[_0x308b55(0x1ee)]['Status'][_0x308b55(0x1d0)])return(0x0,either_1['left'])(new not_allowed_error_1[(_0x308b55(0x1db))](_0x308b55(0x1da)));return _0x562ed3['status']=product_1[_0x308b55(0x1ee)][_0x308b55(0x1dd)][_0x308b55(0x1d0)],await this[_0x308b55(0x1d4)][_0x308b55(0x1e5)](_0x562ed3),(0x0,either_1[_0x308b55(0x1f0)])({'product':_0x562ed3});}};exports[a37_0x21b57f(0x1e2)]=MarkSellAsAvailableUseCase,exports[a37_0x21b57f(0x1e2)]=MarkSellAsAvailableUseCase=__decorate([(0x0,common_1[a37_0x21b57f(0x1ea)])(),__metadata(a37_0x21b57f(0x1f3),[sellers_repository_1['SellersRepository'],products_repository_1[a37_0x21b57f(0x1ec)]])],MarkSellAsAvailableUseCase);